<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["ruby","json"]);
        });
      </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search">
        </div>
        <div class="search-info"></div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="strutta-api">Strutta API</h1>

<h2 id="background">Background</h2>

<p>The Strutta API allows you to tap into the core of Strutta&rsquo;s promotions platform and take advantage of advanced complexity and customization.</p>

<p>In our years of experience creating thousands of turnkey and custom promotions, we&rsquo;ve seen the Social Promotions market mature. Our customers have begun to want more than just <em>Sweepstakes</em> or <em>Contests</em>; they now want to be able to pick and choose which aspects of each type they want to utilize, and they want to add new elements as well.</p>

<p>So, when we began constructing this API, we decided it was important to do away with the traditional &ldquo;Contest&rdquo; and &ldquo;Sweepstakes&rdquo; definitions we&rsquo;d lived by in the past. As engineers and consumers of the Promotions API we felt that generalizing these definitions would encourage us to create a more flexible API. We also understood that changing the definition of what our technology is capable of opens up a huge swath of use cases we had not yet considered.</p>

<p>By giving API clients the ability to add core elements like Games, Entries, Moderation, Random Draws, and Points Rounds to any aspect of their software we&rsquo;re making it possible to apply the power of social promotions to any section of the marketing funnel.</p>

<h2 id="technical">Technical</h2>

<p>This API is designed to be as <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> as possible.
We use HTTP verbs and standard HTTP response codes, and object hierarchy is (with a few exceptions) described exactly by the URI.</p>

<p>This API is designed so that it can easily and securely be implemented on both the client and the server.
JSON is returned in all API responses, including errors, which have a standardized structure.
We do our best to provide specific, in-depth error messages to save you headaches.</p>

<p>We also keep a record of all authenticated API calls (those that result in responses other than 401 or 404) that get made, so you can easily view your own usage history and the history of those you grant permission to.</p>

<p>Throughout the many parameter lists in this documentation, only parameters marked as optional are not required.</p>

<h2 id="version">Version</h2>

<p>This documentation is for API version 2.0</p>

          <h1 id="authentication">Authentication</h1>

<p>The Strutta API has two types of consumers - <strong>Users</strong> and <strong>Participants</strong> - each with their own API token(s) and permission sets.</p>

<h2 id="users">Users</h2>

<p><strong>Users</strong> are those who have created an account on our <a href="http://api.strutta.com">developer portal</a>.
On account creation, each User is issued a Private and a Public token.</p>

<p><strong>Private</strong> tokens give permission to perform every action this API provides.
They also allow a User to act on behalf of Participants.
<strong>Never use your private token in client-side code.</strong>
Any client-side action should use either a Participant token or the User&rsquo;s public token.</p>

<p><strong>Public</strong> tokens are read-only tokens for accessing the elements of Games that do not require any sort of authentication. They are designed for client-side exposure.</p>

<p>User tokens do not expire automatically. A User may add, remove, and regenerate both Private and Public tokens on our <a href="http://api.strutta.com">developer portal</a>.</p>

<h2 id="participants">Participants</h2>

<p><strong>Participants</strong> are those that play the Games created by Users. It is important to note that a Participant is created within the scope of a single Game, and is only permitted to interact with that Game.</p>

<p>When a Participant is created, they are automatically issued a token with <code class="prettyprint">api_basic</code> and <code class="prettyprint">registered</code> permissions.</p>

<p><code class="prettyprint">api_basic</code> provides the Participant with general READ permissions.</p>

<p><code class="prettyprint">registered</code> scopes ownership of the Participant object to the Participant themselves, allowing the creator to update their metadata and to create/update their own Entries and Points. Think &ldquo;my body&rsquo;s nobody&rsquo;s body but mine.&rdquo;</p>

<p>Extended permissions (<code class="prettyprint">administrate</code>, <code class="prettyprint">moderate</code>, <code class="prettyprint">judge</code>) can be granted to a Participant by a User or a Participant with the <code class="prettyprint">administrate</code> permission.
See <a href="#participant-permissions">Participant Permissions</a> to learn more.</p>

<p>Be sure to auth requests using the Participant&rsquo;s token instead of the User Public token whenever possible.
The details and caller of every API call is logged in our database, and that data will be much more rich if a Participant ID is associated with each possible record. See <a href="#export-api-calls">Export API Calls</a> to learn more.</p>

<p>By default, Participant tokens expire after 24 hours. See <a href="#renew-participant-token">Renew Participant Token</a> to learn more.</p>

<h2 id="using-your-token">Using your token</h2>

<blockquote>
<p>Example Requests</p>
</blockquote>
<pre class="highlight plaintext"><code>curl http://api.strutta.com/v2/games \
     -H "Authorization: Token token=mystruttatoken"

GET http://api.strutta.dev:4000/v2/games/?token=mystruttatoken
</code></pre>
<p>The API expects a token to be included either as a URI parameter or in a request header.</p>

<h3 id="uri-parameter:">URI Parameter:</h3>

<p><code class="prettyprint">http://api.strutta.com/v2/path/?token=mystruttatoken</code></p>

<h3 id="header:">Header:</h3>

<p><code class="prettyprint">Authorization: Token token=mystruttatoken</code></p>

<p><aside class="notice">
Replace <code class="prettyprint">mystruttatoken</code> with your User or Participant token.
</aside></p>

          <h1 id="paging">Paging</h1>

<h2 id="cursoring">Cursoring</h2>

<p>The List endpoints in this API borrow their pagination method - <strong>Cursoring</strong> - from the <a href="https://dev.twitter.com/rest/public/search">Twitter Search API</a>.
Cursoring was developed to overcome the inefficiencies associated with passing offsets to a database, particularly when dealing with a high volume of new content being added consistently. Twitter probably understands this problem better than any other organization, and since Strutta games can have huge spikes of new content at any given time, we decided to adopt their solution.</p>

<p>Read their well-worded and illustrated post about working with timelines <a href="https://dev.twitter.com/rest/public/timelines">here</a>.</p>

<p><aside class="notice">
<strong>List endpoints</strong> are those that request multiple objects at once
</aside></p>

<h2 id="parameters-&amp;-usage">Parameters &amp; Usage</h2>

<blockquote>
<p>Ruby Paging Example</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Configure API</span>
<span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">my_game</span> <span class="o">=</span> <span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">)</span>

<span class="c1"># First request - only pass 'count'</span>
<span class="n">entries</span> <span class="o">=</span> <span class="n">my_game</span><span class="p">.</span><span class="nf">entries</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="ss">count: </span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Record the paging hash's max_id for future use</span>
<span class="c1"># (The more likely use case would be to store this in a database)</span>
<span class="n">original_max_id</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="s1">'paging'</span><span class="p">][</span><span class="s1">'max_id'</span><span class="p">]</span>

<span class="c1"># Get next 3 pages</span>
<span class="mi">3</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
  <span class="n">paging_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">count: </span><span class="mi">10</span><span class="p">,</span>
    <span class="ss">max_id: </span><span class="n">entries</span><span class="p">[</span><span class="s1">'paging'</span><span class="p">][</span><span class="s1">'next_max_id'</span><span class="p">]</span>
  <span class="p">}</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">my_game</span><span class="p">.</span><span class="nf">entries</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="n">paging_params</span><span class="p">)</span>
  <span class="c1"># Process entries...</span>
<span class="k">end</span>

<span class="c1"># Check for any Entries added since first request</span>
<span class="n">paging_params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">count: </span><span class="mi">10</span><span class="p">,</span>
  <span class="ss">since_id: </span><span class="n">original_max_id</span>
<span class="p">}</span>
<span class="n">entries</span> <span class="o">=</span> <span class="n">my_game</span><span class="p">.</span><span class="nf">entries</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="n">paging_params</span><span class="p">)</span>

<span class="c1"># If necessary, get remaining pages of new content</span>
<span class="k">begin</span>
  <span class="n">paging_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">count: </span><span class="mi">10</span><span class="p">,</span>
    <span class="ss">since_id: </span><span class="n">original_max_id</span>
    <span class="ss">max_id: </span><span class="n">entries</span><span class="p">[</span><span class="s1">'paging'</span><span class="p">][</span><span class="s1">'next_max_id'</span><span class="p">]</span>
  <span class="p">}</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">my_game</span><span class="p">.</span><span class="nf">entries</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="n">paging_params</span><span class="p">)</span>
  <span class="c1"># Process entries...</span>
<span class="k">end</span> <span class="k">while</span> <span class="n">entries</span><span class="p">[</span><span class="s1">'paging'</span><span class="p">][</span><span class="s1">'next_max_id'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">original_max_id</span>
</code></pre>
<h3 id="paging-request-parameters">Paging Request Parameters</h3>

<p>All List requests are controlled by three parameters. They can be used together or individually.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">count</code></td>
<td>The maximum number of objects to return</td>
<td>Dependant on Object requested</td>
</tr>
<tr>
<td><code class="prettyprint">max_id</code></td>
<td>Return Entries created before and including the Entry with this <code class="prettyprint">id</code></td>
<td>nil</td>
</tr>
<tr>
<td><code class="prettyprint">since_id</code></td>
<td>Return Entries created after the Entry with this <code class="prettyprint">id</code></td>
<td>nil</td>
</tr>
</tbody></table>

<h3 id="paging-response-parameters">Paging Response Parameters</h3>

<p>The most recently created objects of any given type have the highest <code class="prettyprint">id</code> attributes.
List responses are made up of a <code class="prettyprint">results</code> array sorted by <code class="prettyprint">id</code> in a descending (high-to-low) manner and a <code class="prettyprint">paging</code> hash.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">results</code></td>
<td>Array of objects requested</td>
</tr>
<tr>
<td><code class="prettyprint">paging</code></td>
<td>Paging hash</td>
</tr>
</tbody></table>

<h3 id="paging-hash-keys">Paging Hash Keys</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">min_id</code></td>
<td>The lowest <code class="prettyprint">id</code> in the <code class="prettyprint">results</code> array</td>
</tr>
<tr>
<td><code class="prettyprint">max_id</code></td>
<td>The highest <code class="prettyprint">id</code> in the <code class="prettyprint">results</code> array</td>
</tr>
<tr>
<td><code class="prettyprint">next_max_id</code></td>
<td>The <code class="prettyprint">next_id</code> to pass to a subsequent paging request</td>
</tr>
</tbody></table>

<h3 id="usage">Usage</h3>

<p>For the first request, pass only the <code class="prettyprint">count</code> parameter.</p>

<p>Process the <code class="prettyprint">results</code> array, and record the <code class="prettyprint">paging</code> hash&rsquo;s <code class="prettyprint">max_id</code> for future use.
If you wish to retrieve the next page, use the <code class="prettyprint">paging</code> hash&rsquo;s <code class="prettyprint">next_max_id</code> as the <code class="prettyprint">max_id</code> for the next request. Repeat as desired.</p>

<p>Once you&rsquo;ve iterated through your pages, you can be sure to only get new content by passing the original <code class="prettyprint">max_id</code> as the <code class="prettyprint">since_id</code> in subsequent requests.</p>

<p><aside class="notice">
Ruby Paging Example (right) shows the above usage in Ruby
</aside></p>

          <h1 id="games">Games</h1>

<p><strong>Games</strong> are the top-level element of the Strutta API.
They are simple container objects that essentially namespace Rounds, Flow, Entries, and Points.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title</code></td>
<td>string</td>
<td>The Game&rsquo;s title</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data</td>
</tr>
<tr>
<td><code class="prettyprint">sub_account</code></td>
<td>string</td>
<td>Arbitrary string for grouping Games</td>
</tr>
<tr>
<td><code class="prettyprint">entries_count</code></td>
<td>integer</td>
<td>Total Entries in Game</td>
</tr>
<tr>
<td><code class="prettyprint">participants_count</code></td>
<td>integer</td>
<td>Total Participants in Game</td>
</tr>
<tr>
<td><code class="prettyprint">created</code></td>
<td>UNIX timestamp</td>
<td>When the Game was created</td>
</tr>
<tr>
<td><code class="prettyprint">last_updated</code></td>
<td>UNIX timestamp</td>
<td>When the Game was last updated</td>
</tr>
</tbody></table>

<h2 id="create-a-game">Create a Game</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">my_game</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">title: </span><span class="s2">"My First Game"</span><span class="p">,</span>
  <span class="ss">sub_account: </span><span class="s2">"test-1234"</span><span class="p">,</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">summary: </span><span class="s2">"Here's a little more about my game..."</span><span class="p">,</span>
    <span class="ss">organizer: </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">my_game</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Game"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's a little more about my game..."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organizer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My First Game"</span><span class="p">,</span>
  <span class="s2">"sub_account"</span><span class="p">:</span> <span class="s2">"test-1234"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"Here's a little more about my game..."</span><span class="p">,</span>
    <span class="s2">"organizer"</span><span class="p">:</span> <span class="s2">"NaaS.io.ly - Ninjas as a service"</span>
  <span class="p">},</span>
  <span class="s2">"entries_count"</span><span class="p">:</span> <span class="mi">342</span><span class="p">,</span>
  <span class="s2">"participants_count"</span><span class="p">:</span> <span class="mi">234</span><span class="p">,</span>
  <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span><span class="p">,</span>
  <span class="s2">"last_updated"</span><span class="p">:</span> <span class="mi">1413889551</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Game"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's a little more about my game..."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organizer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"entries_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">342</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Game can be an unnamed container object or a well-defined object with a large amount of associated metadata; it all depends on your use case.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title</code></td>
<td>string</td>
<td>The Game&rsquo;s title (optional)</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data (optional)</td>
</tr>
<tr>
<td><code class="prettyprint">sub_account</code></td>
<td>string</td>
<td>Arbitrary string for grouping Games (optional)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">N/A</code></td>
</tr>
</tbody></table>

<h2 id="get-all-games">Get All Games</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="ss">sub_account: </span><span class="s1">'test-1234'</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
      <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My First Game"</span><span class="p">,</span>
      <span class="s2">"sub_account"</span><span class="p">:</span> <span class="s2">"test-1234"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"Here's a little more about my game..."</span><span class="p">,</span>
        <span class="s2">"organizer"</span><span class="p">:</span> <span class="s2">"NaaS.io.ly - Ninjas as a service"</span>
      <span class="p">},</span>
      <span class="s2">"entries_count"</span><span class="p">:</span> <span class="mi">342</span><span class="p">,</span>
      <span class="s2">"participants_count"</span><span class="p">:</span> <span class="mi">234</span><span class="p">,</span>
      <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span><span class="p">,</span>
      <span class="s2">"last_updated"</span><span class="p">:</span> <span class="mi">1413889551</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">222</span><span class="p">,</span>
      <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My Second Game"</span><span class="p">,</span>
      <span class="s2">"sub_account"</span><span class="p">:</span> <span class="s2">"test-1234"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"This is another Game"</span><span class="p">,</span>
        <span class="s2">"organizer"</span><span class="p">:</span> <span class="s2">"NaaS.io.ly - Ninjas as a service"</span>
      <span class="p">},</span>
      <span class="s2">"entries_count"</span><span class="p">:</span> <span class="mi">223</span><span class="p">,</span>
      <span class="s2">"participants_count"</span><span class="p">:</span> <span class="mi">101</span><span class="p">,</span>
      <span class="s2">"created"</span><span class="p">:</span> <span class="mi">141398753</span><span class="p">,</span>
      <span class="s2">"last_updated"</span><span class="p">:</span> <span class="mi">141399432</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"min_id"</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
    <span class="s2">"max_id"</span><span class="p">:</span> <span class="mi">222</span><span class="p">,</span>
    <span class="s2">"next_max_id"</span><span class="p">:</span> <span class="mi">110</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Game"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's a little more about my game..."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"organizer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"entries_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">342</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Second Game"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is another Game"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"organizer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"entries_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">141398753</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">141399432</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"min_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">110</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Please see <a href="#paging">Paging</a> for request and response parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games</code></p>

<h3 id="count-limits/default">Count Limits/Default</h3>

<p>The <code class="prettyprint">count</code> parameter defaults to 10 and is limited to 20 for this endpoint.</p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">N/A</code></td>
</tr>
</tbody></table>

<h2 id="get-a-specific-game">Get a Specific Game</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">111</span><span class="p">).</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My First Game"</span><span class="p">,</span>
  <span class="s2">"sub_account"</span><span class="p">:</span> <span class="s2">"test-1234"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"Here's a little more about my game..."</span><span class="p">,</span>
    <span class="s2">"organizer"</span><span class="p">:</span> <span class="s2">"NaaS.io.ly - Ninjas as a service"</span>
  <span class="p">},</span>
  <span class="s2">"entries_count"</span><span class="p">:</span> <span class="mi">342</span><span class="p">,</span>
  <span class="s2">"participants_count"</span><span class="p">:</span> <span class="mi">234</span><span class="p">,</span>
  <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span><span class="p">,</span>
  <span class="s2">"last_updated"</span><span class="p">:</span> <span class="mi">1413889551</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Game"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's a little more about my game..."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organizer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NaaS.io.ly - Ninjas as a service"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"entries_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">342</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Game to retrieve</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="update-game">Update Game</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">title: </span><span class="s1">'Updated title'</span><span class="p">,</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">region: </span><span class="s1">'West Coast'</span><span class="p">,</span>
    <span class="ss">timezone: </span><span class="s1">'America/Vancouver'</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated title"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"West Coast"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Vancouver"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">333</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Updated title"</span><span class="p">,</span>
  <span class="s2">"sub_account"</span><span class="p">:</span> <span class="s2">"test-1234"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"region"</span><span class="p">:</span> <span class="s2">"West Coast"</span><span class="p">,</span>
    <span class="s2">"timezone"</span><span class="p">:</span> <span class="s2">"America/Vancouver"</span>
  <span class="p">},</span>
  <span class="s2">"entries_count"</span><span class="p">:</span> <span class="mi">342</span><span class="p">,</span>
  <span class="s2">"participants_count"</span><span class="p">:</span> <span class="mi">234</span><span class="p">,</span>
  <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span><span class="p">,</span>
  <span class="s2">"last_updated"</span><span class="p">:</span> <span class="mi">1413897453</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">333</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated title"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1234"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"West Coast"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Vancouver"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"entries_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">342</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413897453</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Game to update</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title</code></td>
<td>string</td>
<td>The Game&rsquo;s title (optional)</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data (optional)</td>
</tr>
<tr>
<td><code class="prettyprint">sub_account</code></td>
<td>string</td>
<td>Arbitrary string for grouping Games (optional)</td>
</tr>
</tbody></table>

<p><aside class="notice">
We do not support partial updates for Game metadata. You must submit the entire metadata hash with each request.
</aside></p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="delete-game">Delete Game</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">delete</span>
</code></pre>
<blockquote>
<p>Example Response - 204</p>
</blockquote>
<pre class="highlight plaintext"><code>  No Content
</code></pre>
<p><aside class="warning">
WARNING: Deleting a game will delete its Participants, Rounds, Flow, Entries, and Points.
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Game to delete</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

          <h1 id="rounds">Rounds</h1>

<h2 id="background">Background</h2>

<p>In order to help us generalize Contests and Sweepstakes into Games, we decided to deconstruct them into their simplest elements, <strong>Rounds</strong>.</p>

<p>For example, a Contest Game is typically made up of Rounds that Flow like this:</p>

<p><code class="prettyprint">Submission -&gt; Voting -&gt; Judging -&gt; Prize Fullfillment (webhook)</code></p>

<p>A Sweepstakes Game is slightly more simple:</p>

<p><code class="prettyprint">Submission -&gt; Random Draw -&gt; Prize Fullfillment (webhook)</code></p>

<p>When viewed this way, you see just how similar Contests and Sweepstakes are, and how easy it would be to create a hybrid of the two.
What if a User wanted to run a photo contest where instead of a Judging the ultimate winner was chosen by Random Draw? Simple:</p>

<p><code class="prettyprint">Submission -&gt; Voting -&gt; Random Draw -&gt; Prize Fullfillment (webhook)</code></p>

<p>What if a different User wanted to moderate their Sweepstakes entries before entering them in the Random Draw? Again, simple:</p>

<p><code class="prettyprint">Submission -&gt; Moderation -&gt; Random Draw -&gt; Prize Fullfillment (webhook)</code></p>

<p>As you can see, these use cases become easy to model when you think of each Game as a Flow of Rounds.</p>

<p><strong>Flow</strong> is described in-depth in the <a href="#flow">next section</a>. First, we must define our <strong>Rounds</strong>.</p>

<h2 id="action-and-timed-rounds">Action and Timed Rounds</h2>

<p>Programatically, there are two groups of Rounds: <strong>Action</strong> and <strong>Timed</strong>.</p>

<h3 id="action-rounds">Action Rounds</h3>

<p>Action Rounds advance Entries to subsequent rounds when an action takes place.</p>

<p>Moderation is a good example: when an administrator approves or denies an Entry it is moved to the Round&rsquo;s <code class="prettyprint">pass_round</code> or <code class="prettyprint">fail_round</code> immediately.</p>

<p>There are two Rounds of this type: <code class="prettyprint">submission</code> and <code class="prettyprint">moderation</code>.</p>

<h3 id="timed-rounds">Timed Rounds</h3>

<p>Timed Rounds automatically advance their entries at a pre-defined timestamp.</p>

<p>Random Draw is a good example: Once the Round has ended, a pre-defined number of Entries &ldquo;win&rdquo; and advance to the Round&rsquo;s <code class="prettyprint">pass_round</code> at that time. Those that &ldquo;lose&rdquo; are advanced to the Round&rsquo;s <code class="prettyprint">fail_round</code>.</p>

<p>There are four Rounds of this type: <code class="prettyprint">random_draw</code>, <code class="prettyprint">points</code>, <code class="prettyprint">judging</code>, and <code class="prettyprint">webhook</code></p>

<h2 id="global-attributes">Global Attributes</h2>

<p>Each Round type has the following shared global attributes.</p>

<h3 id="global-attributes">Global Attributes</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td>String identifier of the Round type</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td>string</td>
<td>The Round&rsquo;s title</td>
</tr>
<tr>
<td><code class="prettyprint">start_date</code></td>
<td>UNIX timestamp</td>
<td>The Round&rsquo;s start date</td>
</tr>
<tr>
<td><code class="prettyprint">end_date</code></td>
<td>UNIX timestamp</td>
<td>The Round&rsquo;s end date</td>
</tr>
</tbody></table>

<h2 id="round-types-and-their-rules">Round Types and their Rules</h2>

<h3 id="submission">Submission</h3>

<p>String identifier: <code class="prettyprint">submission</code></p>

<p>If a Game had a front door, it would be a Submission Round.
Rounds of this type define the rules for how often and how frequently a Participant can play a Game.</p>

<h3 id="submission-rules">Submission Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Options</th>
</tr>
</thead><tbody>
<tr>
<td>interval</td>
<td>string</td>
<td>Time period during which <code class="prettyprint">num_entries</code> and <code class="prettyprint">num_referrals</code> are allowed</td>
<td><code class="prettyprint">minute</code> <code class="prettyprint">hour</code> <code class="prettyprint">day</code> <code class="prettyprint">week</code> <code class="prettyprint">month</code> <code class="prettyprint">game</code></td>
</tr>
<tr>
<td>num_entries</td>
<td>int</td>
<td>Total number of Entries a Participant is allowed during <code class="prettyprint">interval</code></td>
<td></td>
</tr>
<tr>
<td>num_referrals</td>
<td>int</td>
<td>Total number of extra Entries a Participant is allowed during <code class="prettyprint">interval</code> (optional)</td>
<td></td>
</tr>
</tbody></table>

<h3 id="moderation">Moderation</h3>

<p>String identifier: <code class="prettyprint">moderation</code></p>

<p>Moderation Rounds are used to quickly eliminate any inappropriate or off-topic content.
They can be used between two Rounds of any type, and are very useful for monitoring the overall progress of a Game.</p>

<p>If there are Entries awaiting moderation, this Round POSTs status reports to the <code class="prettyprint">status_webhook</code> a maximum of two times per day.
If you do not wish to receive these reports, do not provide a <code class="prettyprint">status_webhook</code>.</p>

<p>Make sure to give a realistic buffer period for Moderation.
If the Round ends and there are still Entries in Moderation, they will be advanced to the <code class="prettyprint">fail_round</code> defined in the Game Flow.</p>

<p>Moderation is performed by Participants with the <code class="prettyprint">moderate</code> permission. Visit <a href="#get-entries-in-moderation">Moderation</a> to learn more.</p>

<h3 id="moderation-rules">Moderation Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status_webhook</td>
<td>string</td>
<td>POST status reports to this URL - ie. <em>Entries awaiting moderation</em> (optional)</td>
</tr>
</tbody></table>

<h3 id="points">Points</h3>

<p>String identifier: <code class="prettyprint">points</code></p>

<p>There are many manifestations of Points across the internet.
Examples include: &ldquo;Votes&rdquo;, &ldquo;Likes&rdquo;, &ldquo;Re-Tweets&rdquo;, &ldquo;Subscribes&rdquo;, &ldquo;Diggs&rdquo;, and many more.</p>

<p>At the end of the day, each of the above is just a way of keeping score.
To further our generalized <em>Game</em> analogy, we opted to use <em>Points</em> as our descriptor.</p>

<p>Points Rounds define the number of Points (postive or negative) a Participant can assign per Entry during a pre-defined interval.
When the interval is completed, Entries are sorted by Points, and a pre-defined number &ldquo;win&rdquo;.</p>

<h3 id="points-rules">Points Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Options</th>
</tr>
</thead><tbody>
<tr>
<td>interval</td>
<td>int</td>
<td>Time period during which <code class="prettyprint">min_allowed</code> &lt;= x &lt;= <code class="prettyprint">max_allowed</code> Points are allowed</td>
<td><code class="prettyprint">minute</code> <code class="prettyprint">hour</code> <code class="prettyprint">day</code> <code class="prettyprint">week</code> <code class="prettyprint">month</code> <code class="prettyprint">game</code></td>
</tr>
<tr>
<td>winners</td>
<td>int</td>
<td>Total number of winners chosen</td>
<td></td>
</tr>
<tr>
<td>max_allowed</td>
<td>int</td>
<td>Maximum number of Points a Participant is allowed during <code class="prettyprint">interval</code>. Must be greater than 0.</td>
<td></td>
</tr>
<tr>
<td>min_allowed</td>
<td>int</td>
<td>Minimum number of Points a Participant is allowed during <code class="prettyprint">interval</code> Can be negative. Must be less than <code class="prettyprint">max_allowed</code>. Default: 0.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="judging">Judging</h3>

<p>String identifier: <code class="prettyprint">judging</code></p>

<p>Judging Rounds allow Participants with the <code class="prettyprint">judge</code> permission to rank a pre-defined number of Entries
based on whatever criteria the User/Administrator decides. These ranks are translated into a Judging score in the background.
When the Judging Round reaches its end date, the Entries are sorted by these scores, and a pre-defined number &ldquo;win&rdquo;.</p>

<p>Because of the complexity of validation and implementation of ranking, Judging rounds can only have a maximum <code class="prettyprint">ranking_size</code> of 20.
This results in <code class="prettyprint">winners</code> also being limited to 20. If you require a larger pool of ranked Entries and winners, consider using a Points Round.</p>

<p>Visit <a href="#judging">Judging</a> to learn more.</p>

<h3 id="judging-rules">Judging Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">winners</code></td>
<td>int</td>
<td>Total number of winners chosen by judges (1 - 20)</td>
</tr>
<tr>
<td><code class="prettyprint">ranking_size</code></td>
<td>int</td>
<td>The number of Entries to be ranked by each Judge (1 - 20)</td>
</tr>
</tbody></table>

<h3 id="random-draw">Random Draw</h3>

<p>String identifier: <code class="prettyprint">random_draw</code></p>

<p>Random Draw Rounds are the bread and butter of Sweepstakes Games, but can really be used Games of any kind.
Rounds of this type can define either an absolute number of winners or a percentage of total Entries that will &ldquo;win&rdquo; the Round.</p>

<h3 id="random-draw-rules">Random Draw Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>winners</td>
<td>int</td>
<td>Total number of random winners chosen</td>
</tr>
<tr>
<td>percentage</td>
<td>boolean</td>
<td>Whether to interpret <code class="prettyprint">winners</code> as a percentage. Default: <code class="prettyprint">false</code></td>
</tr>
</tbody></table>

<h3 id="on-demand">On Demand</h3>

<p>String identifier: <code class="prettyprint">on_demand</code></p>

<p>The On-Demand Winners endpoint behaves as a mini-game <em>within</em> your Game.
A pre-defined number of entries are randomly drawn from all entries that have an active (non-nil) state.
These winners are then passed through the provided On-Demand Round and returned.</p>

<h3 id="on-demand-rules">On Demand Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<p><em>This Round Type has no rules</em></p>

<h3 id="webhook">Webhook</h3>

<p>String identifier: <code class="prettyprint">webhook</code></p>

<p>Webhook Rounds were originally named Prize Fulfillment Rounds, but were later generalized so that they might be used for passing Entries, failing Entries, or even things like mid-Game progress reports.
When a Webhook Round reaches its end date, it POSTs the data of all its Entries to a pre-defined webhook and advances the Entries to the next Round.</p>

<p>If a webhook POST is unsuccessful (anything other than a 200 response), it can be retried or dismissed at our <a href="http://api.strutta.com">developer portal</a>.</p>

<h3 id="webhook-rules">Webhook Rules</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook</td>
<td>string</td>
<td>URI to POST to on Round completion</td>
</tr>
<tr>
<td>notify_user</td>
<td>boolean</td>
<td>Whether to email User on Round completion. Default: <code class="prettyprint">false</code>.</td>
</tr>
</tbody></table>

<h2 id="referrals">Referrals</h2>

<p>You may want to run a Sweepstakes in which Participants get bonus Entries for referring others to the Game.
To allow this, we have implemented Referrals.</p>

<p>To include this feature in your Game, there are two requirements.</p>

<p>First, when creating a Submission Round, you must include a <code class="prettyprint">num_referrals</code> parameter in the Round definition with a value of how many extra Entries you want to allow Participants during the given interval.</p>

<p>When you create a Participant, if you have <code class="prettyprint">administrate</code> permissions, a <code class="prettyprint">referral_code</code> will be returned with that Participant.
Then, to tell the API that an Entry is a referral of that Participant, you must include this code in the <code class="prettyprint">referral</code> parameter of the Entry.
If the number of that Participant&rsquo;s bonus Entries do not exceed the <code class="prettyprint">num_referrals</code> value of the Round, this will automatically create a bonus Entry for the Participant.
The bonus Entry&rsquo;s <code class="prettyprint">metadata</code> value will be <code class="prettyprint">{email: participant_email, referral: true}</code>, where <code class="prettyprint">participant_email</code> is the original Participant&rsquo;s email address.</p>

<h2 id="create-a-round">Create a Round</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">submission_round</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">type: </span><span class="s2">"submission"</span><span class="p">,</span>
  <span class="ss">title: </span><span class="s2">"Submission Round"</span><span class="p">,</span>
  <span class="ss">start_date: </span><span class="mi">1413905219</span><span class="p">,</span>
  <span class="ss">end_date: </span><span class="mi">1414799999</span><span class="p">,</span>
  <span class="ss">rules: </span><span class="p">{</span>
    <span class="ss">num_entries: </span><span class="mi">10</span><span class="p">,</span>
    <span class="ss">num_referrals: </span><span class="mi">1</span><span class="p">,</span>
    <span class="ss">interval: </span><span class="s2">"day"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">rounds</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">submission_round</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submission"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submission Round"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413905219</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414799999</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"num_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num_referrals"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4343</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Submission Round"</span><span class="p">,</span>
  <span class="s2">"start_date"</span><span class="p">:</span> <span class="mi">1413905219</span><span class="p">,</span>
  <span class="s2">"end_date"</span><span class="p">:</span> <span class="mi">1414799999</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"submission"</span><span class="p">,</span>
  <span class="s2">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"num_entries"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"num_referrals"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"day"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4343</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submission Round"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413905219</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414799999</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submission"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"num_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num_referrals"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>There are many types of Rounds, each with a different set of rules. With each POST, pass in both the Round type and the rules associated with that type.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/rounds</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td>The string identifier of the type of Round to create</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td>string</td>
<td>The Round&rsquo;s title</td>
</tr>
<tr>
<td><code class="prettyprint">start_date</code></td>
<td>UNIX timestamp</td>
<td>The Round&rsquo;s start date</td>
</tr>
<tr>
<td><code class="prettyprint">end_date</code></td>
<td>UNIX timestamp</td>
<td>The Round&rsquo;s end date</td>
</tr>
<tr>
<td><code class="prettyprint">rules</code></td>
<td>Type-specific rules. See <a href="#round-types-and-their-rules">Round Types and their Rules</a>.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="get-all-rounds">Get All Rounds</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">rounds</span><span class="p">.</span><span class="nf">all</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4343</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Submission Round"</span><span class="p">,</span>
    <span class="s2">"start_date"</span><span class="p">:</span> <span class="mi">1413905219</span><span class="p">,</span>
    <span class="s2">"end_date"</span><span class="p">:</span> <span class="mi">1414799999</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"submission"</span><span class="p">,</span>
    <span class="s2">"rules"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"num_entries"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
      <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"day"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4344</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Random Draw Round"</span><span class="p">,</span>
    <span class="s2">"start_date"</span><span class="p">:</span> <span class="mi">1413908765</span><span class="p">,</span>
    <span class="s2">"end_date"</span><span class="p">:</span> <span class="mi">1414876466</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"random_draw"</span><span class="p">,</span>
    <span class="s2">"rules"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"winners"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
      <span class="s2">"percentage"</span><span class="p">:</span> <span class="kp">false</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4343</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submission Round"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413905219</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414799999</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submission"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"num_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4344</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Random Draw Round"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413908765</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414876466</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_draw"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"winners"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/rounds</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="get-a-specific-round">Get a Specific Round</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">rounds</span><span class="p">(</span><span class="mi">4344</span><span class="p">).</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4344</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Random Draw Round"</span><span class="p">,</span>
  <span class="s2">"start_date"</span><span class="p">:</span> <span class="mi">1413908765</span><span class="p">,</span>
  <span class="s2">"end_date"</span><span class="p">:</span> <span class="mi">1414876466</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"random_draw"</span><span class="p">,</span>
  <span class="s2">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"winners"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"percentage"</span><span class="p">:</span> <span class="kp">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4344</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Random Draw Round"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413908765</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414876466</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_draw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"winners"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/rounds/:round_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:round_id</code></td>
<td>The ID of the Round to retrieve</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="update-round">Update Round</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">title: </span><span class="s1">'Updated Round title'</span><span class="p">,</span>
  <span class="ss">end_date: </span><span class="mi">1414876466</span><span class="p">,</span>
  <span class="ss">rules: </span><span class="p">{</span>
    <span class="ss">num_entries: </span><span class="mi">51</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">rounds</span><span class="p">(</span><span class="mi">4343</span><span class="p">).</span><span class="nf">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Round title"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414876466</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"num_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">51</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4343</span><span class="p">,</span>
  <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Updated Round title"</span><span class="p">,</span>
  <span class="s2">"start_date"</span><span class="p">:</span> <span class="mi">1413905219</span><span class="p">,</span>
  <span class="s2">"end_date"</span><span class="p">:</span> <span class="mi">1414876466</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"submission"</span><span class="p">,</span>
  <span class="s2">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"num_entries"</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span>
    <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"day"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4343</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Round title"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413905219</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414876466</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submission"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"num_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once created, a Round may not change its <code class="prettyprint">type</code>.
Attempting to add or alter attributes not associated with the Round&rsquo;s current type will result in an error.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id/rounds/:round_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:round_id</code></td>
<td>The ID of the Round to update</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<p>See <a href="#create-a-round">Create a Round</a> for parameters.</p>

<p><aside class="notice">
NOTE: A Round&rsquo;s <code class="prettyprint">type</code> may not be altered after it is created.
</aside></p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="delete-round">Delete Round</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">rounds</span><span class="p">(</span><span class="mi">4343</span><span class="p">).</span><span class="nf">delete</span>
</code></pre>
<blockquote>
<p>Example Response - 204</p>
</blockquote>
<pre class="highlight plaintext"><code>  No Content
</code></pre>
<p><aside class="warning">
WARNING: Deleting a Round will also delete the Game&rsquo;s Flow
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id/rounds/:round_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:round_id</code></td>
<td>The ID of the Round to delete</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

          <h1 id="flow">Flow</h1>

<p>Once you&rsquo;ve defined your Rounds, it&rsquo;s time to define how an Entry moves through them in the context of your Game. This definition is the called the <strong>Flow</strong>.</p>

<h2 id="how-it-works">How it works</h2>

<p>When a Entry&rsquo;s time in a Round ends (triggered either by an <a href="#action-and-timed-rounds">action or a timestamp</a>),
the rules defined for that Round decide whether the Entry will <em>pass</em> or <em>fail</em>.
The Flow is used to define what Round the Entry will be moved into at this point.</p>

<p>Each element of the Flow definition contains a reference to an <code class="prettyprint">id</code> as well as a <code class="prettyprint">pass_round</code> and a <code class="prettyprint">fail_round</code> ID.
An Entry that <em>passes</em> the Round referenced by <code class="prettyprint">id</code> will advance into the <code class="prettyprint">pass_round</code>, an Entry that <em>fails</em> will advance into the <code class="prettyprint">fail_round</code>.
If no <code class="prettyprint">pass_round</code> or <code class="prettyprint">fail_round</code> ID is defined, the Entry will no be longer active in the Game.</p>

<p>It is important to note that at some point, each Entry&rsquo;s time in a Game must end.
Either they don&rsquo;t <em>pass</em> a Round with no defined <code class="prettyprint">fail_round</code>, or they advance until they are in a Round with no defined <code class="prettyprint">pass_round</code> or <code class="prettyprint">fail_round</code>, known as a <em>Terminal Round</em>.</p>

<p>The Round that an Entry is currently a part of is referred to as the Entry&rsquo;s <em>state</em>. Visit <a href="#entries">Entries</a> to learn more.</p>

<h2 id="definition">Definition</h2>

<blockquote>
<p>Definition 1 - Simple Flow</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {  
      "id": 333,
      "pass_round": 555,
      "start": true
  },  
  {  
      "id": 555,
      "pass_round": 777
  },
  {  
      "id": 777,
      "pass_round": 888
  },
  {  
      "id": 888 (Terminal Round)
  }
]
</code></pre>
<blockquote>
<p>Definition 2 - Split Flow</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {  
      "id": 1111,
      "pass_round": 2222,
      "start": true
  },  
  {  
      "id": 2222,
      "pass_round": 3333,
      "fail_round": 5555  
  },
  {  
      "id": 3333,
      "pass_round": 4444
  },
  {  
      "id": 4444 (Terminal Round)
  },
  {  
      "id": 5555,
      "pass_round": 6666
  },
  {  
      "id": 6666 (Terminal Round)
  }
}  
</code></pre>
<blockquote>
<p>Definition 3 - Wildcard Flow</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {  
      "id": 111,
      "pass_round": 222,
      "start": true
  },  
  {  
      "id": 222,
      "pass_round": 444,
      "fail_round": 333
  },
  {  
      "id": 333,
      "pass_round": 444
  },
  {  
      "id": 444,
      "pass_round": 555
  },
  {  
      "id": 555 (Terminal Round)
  }
}  
</code></pre>
<blockquote>
<p>Definition 4 - Category Flow</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {  
      "id": 111,
      "pass_round": 112,
      "start": true
  },
  {  
      "id": 222,
      "pass_round": 223,
      "start": true
  },  
  {  
      "id": 112,
      "pass_round": 333
  },
  {  
      "id": 222,
      "pass_round": 333
  },
  {  
      "id": 333,
      "pass_round": 444
  },
  {  
      "id": 444 (Terminal Round)
  }
}  
</code></pre>
<h3 id="example-1:-simple-flow">Example 1: Simple Flow</h3>

<p>Recall the first Flow defined in the <a href="#rounds">Round description</a>:</p>

<p><code class="prettyprint">Submission -&gt; Points (Voting) -&gt; Judging -&gt; Webhook (Prize Fullfillment)</code>
<small><em>Round types were adjusted to represent our more generalized Game definition</em></small></p>

<p>This is an example of a simple, linear Flow. Any Entries that don&rsquo;t <em>pass</em> each Round are rendered inactive.</p>

<p>Let&rsquo;s assume we&rsquo;ve already created our Rounds and collected their IDs:  </p>

<ul>
<li>Submission: 333</li>
<li>Points: 555</li>
<li>Judging: 777</li>
<li>Webhook: 888</li>
</ul>

<p><aside class="notice">
<strong>Definition 1</strong> shows how this simple Flow would look in JSON.
</aside></p>

<h3 id="example-2:-split-flow">Example 2: Split Flow</h3>

<p>Let&rsquo;s take this one step further. What if a User wanted a contest Game with the typical Submission/Voting/Judging model, but wanted the Participants who didn&rsquo;t make the Judging Round to end on more positive note by entering them into a Random Draw.</p>

<p>All of a sudden we have split Flow: those who <em>pass</em> the Voting Round are up for the grand prize via the Judging Round, those who <em>fail</em> have a chance at the consolation prize via a Random Draw Round. Here&rsquo;s where the <code class="prettyprint">fail_round</code> parameter comes into play.</p>

<p>Again, let&rsquo;s assume we&rsquo;ve already created our Rounds and collected their IDs:  </p>

<ul>
<li>Submission: 1111</li>
<li>Points (Voting): 2222</li>
<li>Judging: 3333</li>
<li>Webhook (Grand Prize Fullfillment): 4444</li>
<li>Random Draw: 5555</li>
<li>Webhook (Consolation Prize Fullfillment): 6666</li>
</ul>

<p><aside class="notice">
<strong>Definition 2</strong> shows the split Flow in JSON.
</aside></p>

<h3 id="example-3:-wildcard-playoff-flow">Example 3: Wildcard Playoff Flow</h3>

<p>A Flow that is split can also rejoin the original path at a later point.</p>

<p>For example, wild-card playoff spots allow a team into the playoffs via an alternate route,
usually in the form of a mini-tournament between teams vying for the wildcard spot.</p>

<p>If we built the above model using this API, here&rsquo;s how the Rounds might be defined:</p>

<ul>
<li>Teams register for the season (Submission: 111)</li>
<li>Teams play each other throughout the season (Points: 222)</li>
<li>Wildcard hopefulls play each other in mini-tournament (Points: 333)</li>
<li>Playoff teams play each other in the playoffs (Points: 444)</li>
<li>Playoff winner gets the Cup (Webhook: 555)</li>
</ul>

<p><aside class="notice">
<strong>Definition 3</strong> shows the wildcard Flow in JSON.
</aside></p>

<h3 id="example-4:-categories-flow">Example 4: Categories Flow</h3>

<p>Many Games require Entries to divided into categories, voted on, then re-grouped for a finalist Judging Round.
This can be achieved by creating multiple <code class="prettyprint">start</code> Submission rounds at the beginning of the Flow.</p>

<p>Let&rsquo;s assume we&rsquo;ve created the following rounds:</p>

<ul>
<li>Submission 1: 111</li>
<li>Submission 2: 222</li>
<li>Voting 1: 112</li>
<li>Voting 2: 223</li>
<li>Judging: 333</li>
<li>Webhook 444</li>
</ul>

<p>Let&rsquo;s also assume that Submission 1 &amp; 2 and Voting 1 &amp; 2 have the exact same start and end dates.</p>

<p><aside class="notice">
<strong>Definition 4</strong> shows the category Flow in JSON.
</aside></p>

<h3 id="a-note-on-readability">A note on readability</h3>

<p>For technical simplicity&rsquo;s sake, both the <code class="prettyprint">pass_round</code> and <code class="prettyprint">fail_round</code> parameters are optional.
Sometimes this can make examples a little tough to read. If it helps:</p>

<p><code class="prettyprint">
{
n  &quot;id&quot;: 111
}
</code></p>

<p>Is equivalent to:</p>

<p><code class="prettyprint">
{
n  &quot;id&quot;: 111,
  &quot;pass_round&quot;: null,
  &quot;fail_round&quot;: null
}
</code></p>

<h2 id="flow-element-attributes">Flow Element Attributes</h2>

<p><aside class="notice">
The Flow Definition is made up of an array of JSON objects called <em>Flow Elements</em>.
</aside></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The ID of the Round</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pass_round</code></td>
<td>int</td>
<td>The ID of the pass Round</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><code class="prettyprint">fail_round</code></td>
<td>int</td>
<td>The ID of the fail Round</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><code class="prettyprint">start</code></td>
<td>boolean</td>
<td>Whether this is the initial Round in the Flow</td>
<td><code class="prettyprint">false</code></td>
</tr>
</tbody></table>

<h2 id="create-a-flow">Create a Flow</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">flow</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>  
      <span class="ss">id: </span><span class="mi">777</span><span class="p">,</span>
      <span class="ss">pass_round: </span><span class="mi">888</span>
  <span class="p">},</span>
  <span class="p">{</span>  
      <span class="ss">id: </span><span class="mi">555</span><span class="p">,</span>
      <span class="ss">pass_round: </span><span class="mi">777</span>
  <span class="p">},</span>
  <span class="p">{</span>  
      <span class="ss">id: </span><span class="mi">888</span>
  <span class="p">},</span>
  <span class="p">{</span>  
      <span class="ss">id: </span><span class="mi">333</span><span class="p">,</span>
      <span class="ss">pass_round: </span><span class="mi">555</span><span class="p">,</span>
      <span class="ss">start: </span><span class="kp">true</span>
  <span class="p">}</span>
<span class="p">]</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">flow</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">definition: </span><span class="n">flow</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"definition"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">777</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="w">
    </span><span class="p">},</span><span class="w">  
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">555</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="mi">777</span><span class="w">
    </span><span class="p">},</span><span class="w">

    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">333</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="mi">555</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201. Note that order of Flow Elements reflects the Flow itself</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"333"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="p">:</span> <span class="s2">"555"</span><span class="p">,</span>
    <span class="s2">"start"</span><span class="p">:</span> <span class="s2">"true"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"555"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="p">:</span> <span class="s2">"777"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"777"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="p">:</span> <span class="s2">"888"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"888"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="s2">"777"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"777"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="w"> </span><span class="s2">"888"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"888"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Constructing a Flow requires that you have already created your Rounds. There are a few other validation requirements to be aware of:</p>

<p><em>Start Round</em></p>

<p>Each Flow must have at least one Round that has been designated as the <code class="prettyprint">start</code> Round. This Round must be of type Submission.</p>

<p><em>Circular Paths</em></p>

<p>A Flow is broken down into a series of paths, beginning at the <code class="prettyprint">start</code> Round and ending at a Terminal Round or some other inactive state.
While each Round may be accessed via different routes, no Round may be accessed more than once on any given path.</p>

<p><aside class="notice">
Elements in the Flow Definition can be in any order.
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/flow</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="flow-parameters">Flow Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">definition</code></td>
<td>JSON</td>
<td>A JSON array of Flow Elements</td>
</tr>
</tbody></table>

<h3 id="flow-element-parameters">Flow Element Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The ID of the Round</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pass_round</code></td>
<td>int</td>
<td>The ID of the pass Round</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><code class="prettyprint">fail_round</code></td>
<td>int</td>
<td>The ID of the fail Round</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><code class="prettyprint">start</code></td>
<td>boolean</td>
<td>Whether this is the initial Round in the Flow</td>
<td><code class="prettyprint">false</code></td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="get-flow">Get Flow</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">flow</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="ss">:"333"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="ss">:"555"</span><span class="p">,</span>
    <span class="s2">"start"</span><span class="ss">:"true"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="ss">:"555"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="ss">:"777"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="ss">:"777"</span><span class="p">,</span>
    <span class="s2">"pass_round"</span><span class="ss">:"888"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="ss">:"888"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="s2">"555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="s2">"true"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="s2">"777"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"777"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pass_round"</span><span class="p">:</span><span class="s2">"888"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"888"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/flow</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="update-flow">Update Flow</h2>

<p><aside class="notice">
Because of its strict validation requirements, there are no partial updates allowed for Flow. If you wish to edit your Flow, you may overwrite your existing Flow with another POST.
</aside></p>

<h2 id="delete-flow">Delete Flow</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">flow</span><span class="p">.</span><span class="nf">delete</span>
</code></pre>
<blockquote>
<p>Example Response - 204</p>
</blockquote>
<pre class="highlight plaintext"><code>  No Content
</code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id/flow</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Parent Game</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

          <h1 id="participants">Participants</h1>

<p>Participants are those who interact with a User&rsquo;s games.
They create Entries and Points, and they can also be Administrators, Judges, and Moderators.</p>

<p>See <a href="#participant-permissions">Participant Permissions</a> to learn more.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>The Participants&rsquo;s email</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data</td>
</tr>
<tr>
<td><code class="prettyprint">referral_code</code></td>
<td>string</td>
<td>The Participant&rsquo;s Referral code (see <a href="#referrals">Referrals</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td>string</td>
<td>The Participant&rsquo;s API token</td>
</tr>
<tr>
<td><code class="prettyprint">token_expired</code></td>
<td>boolean</td>
<td>Whether the Participant&rsquo;s token has expired</td>
</tr>
</tbody></table>

<h2 id="create-a-participant">Create a Participant</h2>

<blockquote>
<p>Example Request - POST /games/333/participants</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">participant</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">email: </span><span class="s1">'charles@dickens.com'</span><span class="p">,</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">industry: </span><span class="s1">'Print Media'</span><span class="p">,</span>
    <span class="ss">birthdate: </span><span class="s1">'07/02/1812'</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">participant</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
    <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
  <span class="p">},</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span><span class="p">,</span>
  <span class="s2">"referral_code"</span><span class="p">:</span> <span class="s2">"rmimgndo"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span>
  <span class="s2">"token_expired"</span><span class="p">:</span> <span class="kp">false</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"referral_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rmimgndo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When a Participant is created, they are automatically issued an API token with the <code class="prettyprint">api_basic</code> and <code class="prettyprint">registered</code> permissions.</p>

<p>The initial token is only valid for 24 hours.
Any subsequent actions by the Participant will require <a href="#renew-participant-token">renewing</a> the Participant&rsquo;s token.</p>

<p>Be sure to auth requests using the Participant&rsquo;s token instead of the User Public token whenever possible.
Every API call is logged in our database, and that data will be much more rich if a Participant ID is associated with each possible record.</p>

<p><aside class="notice">
Participants are identified by their email addresses and scoped to a single Game.
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/participants</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>The Participants&rsquo;s email</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data (optional)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="get-all-participants">Get All Participants</h2>

<blockquote>
<p>Example Request - GET /games/333/participants</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">.</span><span class="nf">all</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
        <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
      <span class="p">},</span>
      <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">8720</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Politics"</span><span class="p">,</span>
        <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"30/04/1797"</span>
      <span class="p">},</span>
      <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"george@washington.com"</span>
    <span class="p">},</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"min_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
    <span class="s2">"max_id"</span><span class="p">:</span> <span class="mi">8720</span><span class="p">,</span>
    <span class="s2">"next_max_id"</span><span class="p">:</span> <span class="mi">6766</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6768</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Politics"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30/04/1797"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"george@washington.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Please see <a href="#paging">Paging</a> for request and response parameters.</p>

<p><aside class="notice">
API tokens are not returned when requesting multiple Participants
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/participants</code></p>

<h3 id="count-limits/default">Count Limits/Default</h3>

<p>The <code class="prettyprint">count</code> parameter defaults to 20 and is limited to 50 for this endpoint.</p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="get-a-specific-participant">Get a Specific Participant</h2>

<blockquote>
<p>Example Request - GET /games/333/participants/6767</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">6767</span><span class="p">).</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
    <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
  <span class="p">},</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span>
  <span class="s2">"token_expired"</span><span class="p">:</span> <span class="kp">true</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><aside class="notice">
Token data is not included unless a Private or Administrator token is used
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/participants/:participant_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:participant_id</code></td>
<td>The ID of the Participant to retrieve</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
<td></td>
</tr>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td>To access Participant token data</td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>To access Participant token data</td>
</tr>
</tbody></table>

<h2 id="get-participant-by-email">Get Participant by Email</h2>

<blockquote>
<p>Example Request - GET /games/333/participants/search</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="ss">email: </span><span class="s1">'charles@dickens.com'</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
    <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
  <span class="p">},</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span>
  <span class="s2">"token_expired"</span><span class="p">:</span> <span class="kp">false</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><aside class="notice">
Token data is not included unless a Private or Administrator token is used
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/participants/search</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>The email of the desired Participant</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
<td></td>
</tr>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td>To access Participant token data</td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>To access Participant token data</td>
</tr>
</tbody></table>

<h2 id="update-participant">Update Participant</h2>

<blockquote>
<p>Example Request - PATCH /games/333/participants/6767</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">birthday: </span><span class="s1">'02/07/1812'</span>
    <span class="ss">industry: </span><span class="s1">'Print Media'</span><span class="p">,</span>
    <span class="ss">died: </span><span class="s1">'09/06/1870'</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">6767</span><span class="p">).</span><span class="nf">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"birthday"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/07/1812"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"died"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09/06/1870"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"birthday"</span><span class="p">:</span> <span class="s2">"02/07/1812"</span><span class="p">,</span>
    <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
    <span class="s2">"died"</span><span class="p">:</span> <span class="s2">"09/06/1870"</span>
  <span class="p">},</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span>
  <span class="s2">"token_expired"</span><span class="p">:</span> <span class="kp">false</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"birthday"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/07/1812"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"died"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09/06/1870"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18d20376152626a013c4acd35ee8859a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You can edit a Participant&rsquo;s metadata at any time.
Since email addresses are used to identify Participants, a Participant&rsquo;s email address cannot be changed.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id/participants/:participant_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:participant_id</code></td>
<td>The ID of the Participant to update</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data</td>
</tr>
</tbody></table>

<p><aside class="notice">
NOTE: We do not support partial updates for Participant metadata.
</aside></p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">registered</code></td>
<td>If a Participant is editing their own metadata</td>
</tr>
</tbody></table>

<h2 id="renew-participant-token">Renew Participant Token</h2>

<blockquote>
<p>Example Request - PATCH /games/333/participants/6767/token</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">6767</span><span class="p">).</span><span class="nf">token_renew</span><span class="p">(</span><span class="ss">duration: </span><span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"3e9dsgskj32f8fj3fae0vfnsi217dnds"</span><span class="p">,</span>
  <span class="s2">"token_expired"</span><span class="p">:</span> <span class="kp">false</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3e9dsgskj32f8fj3fae0vfnsi217dnds"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Participant API tokens are valid as long as you&rsquo;d like them to be.
Ideally their duration matches or exceeds the session length of the API client.
This way, a new Participant token only needs to be requested with each login to the client.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id/participants/:participant_id/token</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:participant_id</code></td>
<td>The ID of the Participant to renew</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">duration</code></td>
<td>int</td>
<td>The amount of seconds the token is valid for</td>
<td>1 day</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="delete-participant">Delete Participant</h2>

<blockquote>
<p>Example Request - DELETE /games/333/participants/6767</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">6767</span><span class="p">).</span><span class="nf">delete</span>
</code></pre>
<blockquote>
<p>Example Response - 204</p>
</blockquote>
<pre class="highlight plaintext"><code>  No Content
</code></pre>
<p><aside class="warning">
WARNING: Deleting a Participant will also delete their Entries and Points
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id/participant/:participant_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:participant_id</code></td>
<td>The ID of the Participant to delete</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

          <h1 id="participant-permissions">Participant Permissions</h1>

<p>When a Participant is created, they are automatically issued a token with <code class="prettyprint">api_basic</code> and <code class="prettyprint">registered</code> permissions.</p>

<p><code class="prettyprint">api_basic</code> provides the Participant with general READ permissions.</p>

<p><code class="prettyprint">registered</code> scopes ownership of the Participant object to the Participant who created it, allowing the creator to update their metadata and to create/update their own Entries and Points. Think &ldquo;my body&rsquo;s nobody&rsquo;s body but mine.&rdquo;</p>

<p>There are three other permissions that can be granted to a user:</p>

<ul>
<li><code class="prettyprint">administrate</code></li>
<li><code class="prettyprint">moderate</code></li>
<li><code class="prettyprint">judge</code></li>
</ul>

<h3 id="administrate">Administrate</h3>

<p>The <code class="prettyprint">administrate</code> permission gives a Participant the ability to perform every action a User Private key allows,
with the exception of creating new Games and viewing a list of the User&rsquo;s Games. <strong>Do not include Administrator tokens anywhere in client-side code.</strong></p>

<h3 id="moderate">Moderate</h3>

<p>The <code class="prettyprint">moderate</code> permission gives a Participant the ability to moderate Entries that are in a <a href="#moderation">Moderation</a> Round.</p>

<h3 id="judge">Judge</h3>

<p>The <code class="prettyprint">judge</code> permission gives a Participant the ability to judge Entries that are in a <a href="#judging">Judging</a> Round.</p>

<h2 id="get-participant-permissions">Get Participant Permissions</h2>

<blockquote>
<p>Example Request - GET /games/333/participants/4444/permissions</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">4444</span><span class="p">).</span><span class="nf">permissions</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"permissions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"api_basic"</span><span class="p">,</span>
    <span class="s2">"registered"</span><span class="p">,</span>
    <span class="s2">"administrate"</span><span class="p">,</span>
    <span class="s2">"moderate"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"api_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registered"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"administrate"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"moderate"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/participants/permissions</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="update-participant-permissions">Update Participant Permissions</h2>

<blockquote>
<p>Example Request - PATCH /games/333/participants/4444/permissions</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">permissions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">add: </span><span class="sx">%w( judge )</span><span class="p">,</span>
  <span class="ss">remove: </span><span class="sx">%w( administrate moderate )</span>
<span class="p">}</span>

<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">participants</span><span class="p">(</span><span class="mi">4444</span><span class="p">).</span><span class="nf">permissions</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">permissions</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"judge"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"administrate"</span><span class="p">,</span><span class="w"> </span><span class="s2">"moderate"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"permissions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"api_basic"</span><span class="p">,</span>
    <span class="s2">"registered"</span><span class="p">,</span>
    <span class="s2">"judge"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"api_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registered"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"judge"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates are handled using two arrays, <code class="prettyprint">add</code> and <code class="prettyprint">remove</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id/participants/:participants_id/permissions</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:participant_id</code></td>
<td>The ID of the Participant to update</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array of strings</td>
<td>A list of permissions to add</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array of strings</td>
<td>A list of permissions to remove</td>
</tr>
</tbody></table>

<p><aside class="notice">
The <code class="prettyprint">api_basic</code> and <code class="prettyprint">registered</code> permissions cannot be removed.
</aside></p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

          <h1 id="entries">Entries</h1>

<p><strong>Entries</strong> are <em>stateful</em>, which means that they belong to different Rounds as the Game progresses.
For example, an Entry is part of a Moderation Round until Moderation is completed,
when is is moved to the Moderation Round&rsquo;s <code class="prettyprint">pass_round</code> or <code class="prettyprint">fail_round</code>.</p>

<p>A Round&rsquo;s ownership of an Entry is visible in the Entry&rsquo;s <code class="prettyprint">state</code> attribute, which directly maps to the current Round&rsquo;s ID.</p>

<p>When an Entry is created, the Participant who created the Entry is given the <code class="prettyprint">owner</code> permission for the Entry.
Entries have Public READ permissions, but only the Entry owner, Administrators and Users can Update and Delete the Entry.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The Entry ID</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>int</td>
<td>The ID of the Participant who owns the Entry</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>string</td>
<td>Date and time of creation in ISO 8601 format</td>
</tr>
<tr>
<td><code class="prettyprint">media</code></td>
<td>JSON</td>
<td>Two valid keys, <code class="prettyprint">link</code> and <code class="prettyprint">type</code> for defining media associated with the Entry</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>int</td>
<td>The ID of the Round the Entry is currently a part of</td>
</tr>
<tr>
<td><code class="prettyprint">points</code></td>
<td>int</td>
<td>Total Points in Round (displays if <code class="prettyprint">state</code> is a Points Round)</td>
</tr>
<tr>
<td><code class="prettyprint">rank</code></td>
<td>int</td>
<td>Current Rank in Round (displays if <code class="prettyprint">state</code> is a Points Round)</td>
</tr>
</tbody></table>

<h2 id="create-an-entry">Create an Entry</h2>

<blockquote>
<p>Example Request - POST /games/:id/entries</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">participant_id: </span><span class="mi">6767</span><span class="p">,</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">title: </span><span class="s1">'My House'</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s1">'This is a picture of my house'</span>
  <span class="p">},</span>
  <span class="ss">media: </span><span class="p">{</span>
    <span class="ss">link: </span><span class="s1">'http://placehold.it/350x150'</span><span class="p">,</span>
    <span class="ss">type: </span><span class="s1">'image'</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
  <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"state"</span><span class="p">:</span> <span class="mi">222</span><span class="p">,</span>
  <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My House"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is a picture of my house"</span>
  <span class="p">},</span>
  <span class="s2">"media"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"image"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Entries must be created by Participants - or on behalf of existing Participants -
when the Game has 1 or more active Submission rounds.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/entries</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>int</td>
<td>The ID of the Participant the Entry belongs to</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data (optional)</td>
</tr>
<tr>
<td><code class="prettyprint">referral</code></td>
<td>string</td>
<td>The ID of a referring Participant (optional; see <a href="#referrals">Referrals</a>)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>If creating an Entry on behalf of another Participant</td>
</tr>
</tbody></table>

<h2 id="get-all-entries">Get All Entries</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="ss">state: </span><span class="mi">4444</span><span class="p">,</span> <span class="ss">participant: </span><span class="kp">true</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">222</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My House"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is a picture of my house"</span>
      <span class="p">},</span>
      <span class="s2">"media"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"image"</span>
      <span class="p">},</span>
      <span class="s2">"participant"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
        <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
          <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
        <span class="p">},</span>
        <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My House"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is a picture of my house"</span>
      <span class="p">},</span>
      <span class="s2">"media"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"image"</span>
      <span class="p">},</span>
      <span class="s2">"participant"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
        <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">"industry"</span><span class="p">:</span> <span class="s2">"Print Media"</span><span class="p">,</span>
          <span class="s2">"birthdate"</span><span class="p">:</span> <span class="s2">"07/02/1812"</span>
        <span class="p">},</span>
        <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"charles@dickens.com"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"min_id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
    <span class="s2">"max_id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
    <span class="s2">"next_max_id"</span><span class="p">:</span> <span class="mi">9897</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"participant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"participant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print Media"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/02/1812"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charles@dickens.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"min_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
    </span><span class="s2">"max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9897</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Please see <a href="#paging">Paging</a> for request and response parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries</code></p>

<h3 id="count-limits/default">Count Limits/Default</h3>

<p>The <code class="prettyprint">count</code> parameter defaults to 20 and is limited to 50 for this endpoint.</p>

<h3 id="points">Points</h3>

<p><code class="prettyprint">points</code> and <code class="prettyprint">rank</code> are included automatically if the Entry&rsquo;s current state is a Points Round.</p>

<p>If <code class="prettyprint">past_state</code> represents a Points Round, all Entries will return their <code class="prettyprint">rank</code> and <code class="prettyprint">points</code> for the Points Round represented by <code class="prettyprint">past_state</code>, not their current <code class="prettyprint">state</code>.</p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">since_id</code></td>
<td>int</td>
<td>Return Entries created after <code class="prettyprint">since_id</code></td>
</tr>
<tr>
<td><code class="prettyprint">max_id</code></td>
<td>int</td>
<td>Return Entries created before and including <code class="prettyprint">max_id</code></td>
</tr>
<tr>
<td><code class="prettyprint">count</code></td>
<td>int</td>
<td>1-50 (optional - defaults to 50)</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>int</td>
<td>Get Entries created by a Participant</td>
</tr>
<tr>
<td><code class="prettyprint">participant</code></td>
<td>boolean</td>
<td>Whether to get the Participant with the Entry (optional – defaults to false)</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>int</td>
<td>Get Entries currently in this <code class="prettyprint">state</code></td>
</tr>
<tr>
<td><code class="prettyprint">past_state</code></td>
<td>int</td>
<td>Get Entries that have had this <code class="prettyprint">state</code></td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="entry-leaderboard">Entry Leaderboard</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/leaderboard</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">leaderboard_params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">round_id: </span><span class="mi">4444</span><span class="p">,</span>
  <span class="ss">top_rank: </span><span class="mi">1</span><span class="p">,</span>
  <span class="ss">limit: </span><span class="mi">3</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">.</span><span class="nf">leaderboard</span><span class="p">(</span><span class="n">leaderboard_params</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"round_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"top_rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My first Entry"</span>
      <span class="p">},</span>
      <span class="s2">"points"</span><span class="p">:</span> <span class="mi">231</span><span class="p">,</span>
      <span class="s2">"rank"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My second Entry"</span>
      <span class="p">},</span>
      <span class="s2">"points"</span><span class="p">:</span> <span class="mi">187</span><span class="p">,</span>
      <span class="s2">"rank"</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9976</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6779</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My third Entry"</span>
      <span class="p">},</span>
      <span class="s2">"points"</span><span class="p">:</span> <span class="mi">76</span><span class="p">,</span>
      <span class="s2">"rank"</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"top_rank"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"bottom_rank"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">"next_top_rank"</span><span class="p">:</span> <span class="mi">4</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My first Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">231</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My second Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">187</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9976</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6779</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My third Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"top_rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bottom_rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_top_rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Leaderboard is a set of Entries sorted by points.</p>

<p>You can request a Leaderboard of 1-20 Entries.
For paging, this endpoint uses a combination of the <code class="prettyprint">top_rank</code> and <code class="prettyprint">limit</code> parameters.
For Example:</p>

<table><thead>
<tr>
<th>Desired Leaderboard</th>
<th>top_rank</th>
<th>limit</th>
</tr>
</thead><tbody>
<tr>
<td>Top 10 Entries (1-10)</td>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>Next 10 Entries (11-20)</td>
<td>11</td>
<td>10</td>
</tr>
</tbody></table>

<h3 id="a-note-on-ties">A note on ties</h3>

<p>Entries with equal points will each be given the highest rank possible, as shown below.</p>

<table><thead>
<tr>
<th>Entry ID</th>
<th>Points</th>
<th>Rank</th>
</tr>
</thead><tbody>
<tr>
<td>111</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>222</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>333</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>444</td>
<td>50</td>
<td>4</td>
</tr>
<tr>
<td>555</td>
<td>50</td>
<td>4</td>
</tr>
<tr>
<td>666</td>
<td>10</td>
<td>6</td>
</tr>
</tbody></table>

<p><aside class="notice">
Be sure to use the <code class="prettyprint">rank</code> attribute as opposed to the array index when displaying rank
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/leaderboard</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>int</td>
<td>The ID of the Points Round</td>
</tr>
<tr>
<td><code class="prettyprint">top_rank</code></td>
<td>int</td>
<td>The highest rank desired. Ie. for the top 10, choose <code class="prettyprint">1</code> (optional - defaults to 1)</td>
</tr>
<tr>
<td><code class="prettyprint">limit</code></td>
<td>int</td>
<td>1-20 (optional - defaults to 20)</td>
</tr>
</tbody></table>

<h3 id="paging">Paging</h3>

<p>Paging in Leaderboard is similar to <a href="#paging">paging in List endpoints</a>.
Just swap <code class="prettyprint">next_top_rank</code> for <code class="prettyprint">next_max_id</code>.
Beware that ranks can change very quickly, so there is no completely reliable way to page through a Leaderboard.
It is recommended to use the <a href="#export-api">Export API</a> if you ever need a full export of Points.</p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">public_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">api_basic</code></td>
</tr>
</tbody></table>

<h2 id="get-a-specific-entry">Get a Specific Entry</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/:entry_id</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">(</span><span class="mi">9898</span><span class="p">).</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
  <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
  <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My Entry"</span>
  <span class="p">},</span>
  <span class="s2">"points"</span><span class="p">:</span> <span class="mi">33212</span><span class="p">,</span>
  <span class="s2">"rank"</span><span class="p">:</span> <span class="mi">12</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Entry"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">33212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="points">Points</h3>

<p><code class="prettyprint">points</code> and <code class="prettyprint">rank</code> are included automatically if the Entry&rsquo;s current state is a Points Round.</p>

<p>If <code class="prettyprint">points_state</code> represents a Points Round, the response will include the Entry&rsquo;s <code class="prettyprint">rank</code> and <code class="prettyprint">points</code> for the  Points Round represented by <code class="prettyprint">points_state</code>, not its current <code class="prettyprint">state</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/:entry_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the Entry to retrieve</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">points_state</code></td>
<td>int</td>
<td>Return <code class="prettyprint">rank</code> and <code class="prettyprint">points</code> for the Entry while in the Points Round with this <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<h2 id="get-entry-transitions">Get Entry Transitions</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/:entry_id/transitions</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">(</span><span class="mi">9898</span><span class="p">).</span><span class="nf">transitions</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"transitions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">"from"</span><span class="p">:</span> <span class="mi">555</span><span class="p">,</span> <span class="s2">"to"</span><span class="p">:</span> <span class="mi">666</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">"from"</span><span class="p">:</span> <span class="mi">666</span><span class="p">,</span> <span class="s2">"to"</span><span class="p">:</span> <span class="mi">777</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">555</span><span class="p">,</span><span class="w"> </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="p">,</span><span class="w"> </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Whenever an Entry advances from one Round to another, its transitions are recorded.
Use this endpoint to see the path a specific Entry has taken through a Game.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/:entry_id/transitions</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the Entry to retrieve</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">transitions</code></td>
<td>An Array of transition elements</td>
</tr>
</tbody></table>

<h3 id="transition-element-parameters">Transition Element Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">from</code></td>
<td>The <code class="prettyprint">state</code> before the transition</td>
</tr>
<tr>
<td><code class="prettyprint">to</code></td>
<td>The <code class="prettyprint">state</code> after the transition</td>
</tr>
</tbody></table>

<h2 id="on-demand-winners">On Demand Winners</h2>

<blockquote>
<p>Example Request - POST /games/:id/entries/on-demand-winners</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">.</span><span class="nf">on_demand_winners</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My first Entry"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My second Entry"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"min_id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
    <span class="s2">"max_id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
    <span class="s2">"next_max_id"</span><span class="p">:</span> <span class="mi">9897</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My first Entry"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My second Entry"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"min_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
    </span><span class="s2">"max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9897</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The On-Demand Winners endpoint behaves as a mini-game <em>within</em> your Game.
A pre-defined number of entries are randomly drawn from all entries that have an active (non-nil) state.
These winners are then passed through the provided On-Demand Round and returned.</p>

<p>Since any all Entry state changes are recorded, it is easy to get a list of winners using the <code class="prettyprint">past_state</code> parameter in GET Entries.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST v2/games/:id/entries/on-demand-winners</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:winner_count</code></td>
<td>The number of Entries to randomly select as winners</td>
</tr>
<tr>
<td><code class="prettyprint">:round_id</code></td>
<td>The ID On-Demand Round - required only if you have more than one active On-Demand Round</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">results</code></td>
<td>An Array of winning Entries</td>
</tr>
<tr>
<td><code class="prettyprint">paging</code></td>
<td>The paging hash</td>
</tr>
</tbody></table>

<h2 id="update-entry">Update Entry</h2>

<blockquote>
<p>Example Request - PATCH /games/:id/entries/:entry_id</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">title: </span><span class="s2">"New Entry Title"</span>
  <span class="p">},</span>
  <span class="ss">state: </span><span class="mi">123</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">(</span><span class="mi">9898</span><span class="p">).</span><span class="nf">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Entry Title"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
  <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
  <span class="s2">"state"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span>
  <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"New Entry Title"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Entry Title"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /v2/games/:id/entries/:entry_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the Entry to update</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Arbitrary key-value data</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>int</td>
<td>The desired state for the Entry</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>int</td>
<td>The new owner of the Entry</td>
</tr>
</tbody></table>

<p><aside class="notice">
NOTE: We do not support partial updates for Entry metadata.
</aside></p>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td>Entry <code class="prettyprint">owner</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>If updating <code class="prettyprint">participant_id</code> or <code class="prettyprint">state</code> of Entry, or updating on behalf of another participant</td>
</tr>
</tbody></table>

<h2 id="delete-entry">Delete Entry</h2>

<blockquote>
<p>Example Request - DELETE /games/:id/entries/:entry_id</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">entries</span><span class="p">(</span><span class="mi">9898</span><span class="p">).</span><span class="nf">delete</span>
</code></pre>
<blockquote>
<p>Example Response - 204</p>
</blockquote>
<pre class="highlight plaintext"><code>  No Content
</code></pre>
<p><aside class="warning">
WARNING: Deleting an Entry will also delete its Points, Transitions, and Judgments
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id/entries/:entry_id</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the Parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the Entry to delete</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td>Entry <code class="prettyprint">owner</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>If deleting an Entry on behalf of another Participant</td>
</tr>
</tbody></table>

          <h1 id="tags">Tags</h1>

<p>Entries can be tagged with simple strings values, which can then be filtered against to group entries. To supply multiple tags, simply comma-delimit them.</p>

<p>Tags can be supplied alongside an optional <code class="prettyprint">tag_type</code>, which defaults to <code class="prettyprint">tags</code>.</p>

<!-- ### Attributes

Name | Type | Description
---- | ---- | -----------
`id` | int | The Entry ID
`participant_id` | int | The ID of the Participant who owns the Entry
`metadata` | JSON | Arbitrary key-value data
`created_at` | string | Date and time of creation in ISO 8601 format
`media` | JSON | Two valid keys, `link` and `type` for defining media associated with the Entry
`state` | int | The ID of the Round the Entry is currently a part of
`points` | int | Total Points in Round (displays if `state` is a Points Round)
`rank` | int | Current Rank in Round (displays if `state` is a Points Round) -->

<h2 id="get-an-entry&#39;s-tags">Get an Entry&rsquo;s Tags</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/:entry_id/?tags=true</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jazz"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funk"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"fan favourite"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"great"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/:entry_id/?tags=true</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">tags</code></td>
<td>pass <code class="prettyprint">true</code> to include tags with the Entry</td>
</tr>
</tbody></table>

<h3 id="notes">Notes</h3>

<p>We are currently experimenting with also allowing a <code class="prettyprint">tags=true</code> parameter for the entries index route, to cut down on API requests.</p>

<p>This endpoint looks like this:</p>

<p><code class="prettyprint">GET /v2/games/:id/entries/?tags=true</code></p>

<p>This will return paged results just like <code class="prettyprint">/entries</code>, but with the nested <code class="prettyprint">tags</code> attribute for each entry. This will be available for the time being, but we reserve the right to remove the <code class="prettyprint">tags</code> flag from this endpoint in the future, for performance reasons.</p>

<!-- ### Minimum Permission

Consumer | Permission | Notes
-------- | ---------- | -----
User | `private_token`
Participant | `api_basic`
Participant | `administrate` | If creating an Entry on behalf of another Participant -->

<h2 id="add-tags-to-an-entry">Add tags to an Entry</h2>

<blockquote>
<p>Example Request - POST /games/:id/entries/:entry_id/tags</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"genre"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jazz,funk"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jazz"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funk"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/entries/:entry_id/tags</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">tag_type</code></td>
<td>string</td>
<td>The type of tag, defaults to <code class="prettyprint">tags</code></td>
</tr>
<tr>
<td><code class="prettyprint">tag_name</code></td>
<td>string</td>
<td>The name of the tag, can be multiple by comma-delimiting. e.g. <code class="prettyprint">tag_name=rock,pop,jazz</code></td>
</tr>
</tbody></table>

<!-- ### Minimum Permission

Consumer | Permission | Notes
-------- | ---------- | -----
User | `private_token`
Participant | `api_basic`
Participant | `administrate` | If creating an Entry on behalf of another Participant -->

<h2 id="delete-tags-from-entry">Delete Tags from Entry</h2>

<blockquote>
<p>Example Request - DELETE /games/:id/entries/:entry_id/tags</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"genre"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rock"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My House"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /v2/games/:id/entries/:entry_id/tags</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:entry_id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">tag_type</code></td>
<td>string</td>
<td>The type of tag that is to be deleted. Defaults to <code class="prettyprint">tags</code>. <em>optional</em></td>
</tr>
<tr>
<td><code class="prettyprint">tag_name</code></td>
<td>string</td>
<td>The name of the tag to be deleted.</td>
</tr>
</tbody></table>

<h2 id="get-all-tags-from-a-game">Get all Tags from a game</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/tags</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"rock"</span><span class="p">,</span><span class="w"> </span><span class="s2">"jazz"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"horse"</span><span class="p">,</span><span class="w"> </span><span class="s2">"staple"</span><span class="p">,</span><span class="w"> </span><span class="s2">"battery"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"blue"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/tags?tag_type=genre</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">tag_type</code></td>
<td>The type of tags to return, defaults to returning all tags. <em>optional</em></td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<p>none.</p>

<h3 id="notes">Notes</h3>

<p>This endpoint is computed by looking at the currently tagged entries, and will return empty if no entries are tagged.</p>

<!-- ### Minimum Permission

Consumer | Permission
-------- | ----------
User | `public_token`
Participant | `api_basic` -->

<h2 id="get-entries-by-tag">Get Entries by Tag</h2>

<blockquote>
<p>Example Request - GET /games/:id/entries/?tag_type=genre&amp;tag_name=jazz</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="c1"># Gem functionality not available, please use JSON endpoint</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My first Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jazz"</span><span class="p">,</span><span class="w"> </span><span class="s2">"rock"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"great"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My second Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jazz"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blues"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"terrible"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9976</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6779</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My third Entry"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"genre"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jazz"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pop"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"great"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"min_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_max_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/entries/?tag_type=genre&amp;tag_name=jazz,rock</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">:game_id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">tag_type</code></td>
<td>The type of tag, defaults to <code class="prettyprint">tags</code></td>
</tr>
<tr>
<td><code class="prettyprint">tag_name</code></td>
<td>The tag to filter against. Can be multiple, comma-delimited tags</td>
</tr>
</tbody></table>

<h3 id="paging">Paging</h3>

<p>Paging is identical to all other paging in the API.</p>

<h3 id="notes">Notes</h3>

<p>When you supply multiple tags, the API will return any entries that match any tag.</p>

<blockquote>
<p>Example request for multiple tag_name</p>

<p><code class="prettyprint">GET /v2/games/:id/entries/?tag_type=genre&amp;tag_name=jazz,rock,blues</code></p>

<p>response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6779</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My third Entry"</span>
      <span class="p">},</span>
      <span class="s2">"tags"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"genre"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"rock"</span><span class="p">,</span> <span class="s2">"pop"</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">124</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6779</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My third Entry"</span>
      <span class="p">},</span>
      <span class="s2">"tags"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"genre"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"jazz"</span><span class="p">,</span> <span class="s2">"blues"</span><span class="p">],</span>
          <span class="s2">"private"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"offensive"</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">125</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6779</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My third Entry"</span>
      <span class="p">},</span>
      <span class="s2">"tags"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"genre"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"blues"</span><span class="p">,</span> <span class="s2">"funk"</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"paging"</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// paging params</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<!-- ### Minimum Permission

Consumer | Permission
-------- | ----------
User | `public_token`
Participant | `api_basic` -->

          <h1 id="points">Points</h1>

<p>There are many manifestations of <strong>Points</strong> across the internet.
Examples include: &ldquo;Votes&rdquo;, &ldquo;Likes&rdquo;, &ldquo;Re-Tweets&rdquo;, &ldquo;Subscribes&rdquo;, &ldquo;Diggs&rdquo;, and many more.</p>

<p>At the end of the day, each of the above is just a way of keeping score.
To further our generalized <em>Game</em> analogy, we opted to use <em>Points</em> as our descriptor.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The Point ID</td>
</tr>
<tr>
<td><code class="prettyprint">weight</code></td>
<td>int</td>
<td>Weight associated with the Point. Can be negative. (Optional - Defaults to 1)</td>
</tr>
</tbody></table>

<h2 id="award-points-to-an-entry">Award Points to an Entry</h2>

<blockquote>
<p>Example Request - POST /games/:id/points</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">point_params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">round_id: </span><span class="mi">4444</span><span class="p">,</span>
  <span class="ss">entry_id: </span><span class="mi">55555</span><span class="p">,</span>
  <span class="ss">participant: </span><span class="mi">1212</span><span class="p">,</span>
  <span class="ss">weight: </span><span class="mi">5</span>
<span class="p">}</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">points</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">point_params</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"round_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55555</span><span class="p">,</span><span class="w">
  </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="mi">76767</span><span class="p">,</span>
  <span class="s2">"weight"</span><span class="p">:</span> <span class="mi">5</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">76767</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A <strong>Participant</strong> awards <strong>Points</strong> to an <strong>Entry</strong> during a <strong>Round</strong>. Therefore, the IDs of all of these parent objects must be part of the POST.</p>

<h3 id="validation">Validation</h3>

<p>Recall that when the Points Round is defined, a <code class="prettyprint">min_allowed</code> and a <code class="prettyprint">max_allowed</code> value is set, as well as a validation <code class="prettyprint">interval</code>.</p>

<p>Total Point value is the sum of the <code class="prettyprint">weight</code> of all Point records created during <code class="prettyprint">interal</code>.
Since <code class="prettyprint">weight</code> can be negative, a Participant can theoretically add and subtract values from their total value as many times as they&rsquo;d like during <code class="prettyprint">interval</code>, they just have to honour <code class="prettyprint">min_allowed &lt;= total &lt;= max_allowed</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/points</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>ID of the Points round</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entry_id</code></td>
<td>ID of the Entry Points are being awarded to</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">participant</code></td>
<td>ID of the Participant awarding Points</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">weight</code></td>
<td>Weight associated with the Point. Can be negative. (Optional - Defaults to 1)</td>
<td></td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
<td></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">registered</code></td>
<td>If a Participant is adding Points for themselves</td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
<td>If a Participant is adding Points on behalf of another</td>
</tr>
</tbody></table>

          <h1 id="moderation">Moderation</h1>

<p>The Moderation endpoint simplifies the logic of moving an Entry through a Moderation Round.</p>

<h2 id="get-entries-in-moderation">Get Entries in Moderation</h2>

<p>It is possible for a Game to have concurrent Moderation Rounds.
This endpoint conveniently gathers all Entries in Moderation and orders them by their <code class="prettyprint">state</code>.</p>

<blockquote>
<p>Example Request - GET /games/:id/moderation</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">moderation</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9898</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"image"</span><span class="p">:</span> <span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Image Entry"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is a picture of my house"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"image"</span><span class="p">:</span> <span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Image Entry #2"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is another picture of my house"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3322</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">4433</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">3324</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Entry in state 3324"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9899</span><span class="p">,</span>
      <span class="s2">"participant_id"</span><span class="p">:</span> <span class="mi">6767</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">3324</span><span class="p">,</span>
      <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Another Entry in state 3324"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9898</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image Entry"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a picture of my house"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://placehold.it/350x150"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image Entry #2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is another picture of my house"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3322</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4433</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">3324</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entry in state 3324"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9899</span><span class="p">,</span><span class="w">
      </span><span class="s2">"participant_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6767</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">3324</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Entry in state 3324"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/moderation</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>Use to filter Entries to a single Moderation Round (optional)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">moderate</code></td>
</tr>
</tbody></table>

<h2 id="moderate-entries">Moderate Entries</h2>

<blockquote>
<p>Example Request - POST /games/:id/moderation</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">moderation</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="ss">id: </span><span class="mi">1234</span><span class="p">,</span>
    <span class="ss">pass: </span><span class="kp">true</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">id: </span><span class="mi">3543</span><span class="p">,</span>
    <span class="ss">pass: </span><span class="kp">false</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">id: </span><span class="mi">5435</span><span class="p">,</span>
    <span class="ss">pass: </span><span class="kp">false</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">id: </span><span class="mi">2364</span><span class="p">,</span>
    <span class="ss">pass: </span><span class="kp">true</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">id: </span><span class="mi">8535</span><span class="p">,</span>
    <span class="ss">pass: </span><span class="kp">true</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">moderation</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">moderation: </span><span class="n">moderation</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"moderation"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3543</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5435</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2364</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8535</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"results"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">555</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3543</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">666</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">5435</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="mi">666</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2364</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"not_in_moderation"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">8535</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"error_advancing_entry"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">555</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3543</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5435</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2364</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not_in_moderation"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8535</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_advancing_entry"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to Moderate entries in batches - even if they aren’t in the same Moderation Round.</p>

<p>Because this is a batch action, HTTP errors won&rsquo;t be thrown if a single update is not successful.
Rather, errors are recorded in the <code class="prettyprint">state</code> value of the return object.</p>

<table><thead>
<tr>
<th>Error</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">not_in_moderation</code></td>
<td>Either the Entry does not exist or it is not currently in Moderation</td>
</tr>
<tr>
<td><code class="prettyprint">error_advancing_entry</code></td>
<td>An error occurred when updating the Entry&rsquo;s <code class="prettyprint">state</code>. Try again.</td>
</tr>
</tbody></table>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/moderation</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">moderation</code></td>
<td>array of Moderation hashes, limit 20</td>
</tr>
</tbody></table>

<h3 id="moderation-hash-parameters">Moderation Hash Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The Entry ID</td>
</tr>
<tr>
<td><code class="prettyprint">pass</code></td>
<td>bool</td>
<td>Whether the Entry passed moderation</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">moderate</code></td>
</tr>
</tbody></table>

          <h1 id="judging">Judging</h1>

<h2 id="get-judging-results-for-a-round">Get Judging results for a Round</h2>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>
<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">judging</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="ss">round_id: </span><span class="mi">4444</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Example Response - 200</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"round_id"</span><span class="p">:</span> <span class="mi">4444</span><span class="p">,</span>
  <span class="s2">"judging"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"judge_id"</span><span class="p">:</span> <span class="mi">55555</span><span class="p">,</span>
      <span class="s2">"judgments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878787</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry was very well designed."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1235</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878788</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry was decent."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889599</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1236</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878789</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry was third in my books."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889655</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"judge_id"</span><span class="p">:</span> <span class="mi">55556</span><span class="p">,</span>
      <span class="s2">"judgments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1237</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878788</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry was excellent."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889551</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1238</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878789</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry was relatively good."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889599</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1239</span><span class="p">,</span>
          <span class="s2">"entry_id"</span><span class="p">:</span> <span class="mi">878787</span><span class="p">,</span>
          <span class="s2">"score"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"comments"</span><span class="p">:</span> <span class="s2">"This entry half-hearted."</span>
          <span class="p">},</span>
          <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1413889655</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"round_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"judging"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"judge_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55555</span><span class="p">,</span><span class="w">
      </span><span class="s2">"judgments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878787</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry was very well designed."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1235</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878788</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry was decent."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889599</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1236</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878789</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry was third in my books."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889655</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"judge_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55556</span><span class="p">,</span><span class="w">
      </span><span class="s2">"judgments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1237</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878788</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry was excellent."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1238</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878789</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry was relatively good."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889599</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1239</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">878787</span><span class="p">,</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This entry half-hearted."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1413889655</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint provides detailed information about the Judging for a specific Judging Round.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /v2/games/:id/judging</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">judge_id</code></td>
<td>Restrict this response to just the Judgments made by the Participant with ID: <code class="prettyprint">judge_id</code> (optional)</td>
</tr>
</tbody></table>

<p><aside class="notice">
The Judging response is pretty intricate, so we&rsquo;ve broken it down into a hierarchy of three objects: <em>Response</em>, <em>Participant Judgments</em>, and <em>Indivudual Judgments</em>
</aside></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>int</td>
<td>The Judging Round ID requested</td>
</tr>
<tr>
<td><code class="prettyprint">judging</code></td>
<td>array</td>
<td>An array of <em>Participant Judgments</em> grouped by <code class="prettyprint">judge_id</code></td>
</tr>
</tbody></table>

<h3 id="participant-judgment-parameters">Participant Judgment Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">judge_id</code></td>
<td>int</td>
<td>The ID of the Participant with the <code class="prettyprint">judge</code> permission who created <code class="prettyprint">judgments</code></td>
</tr>
<tr>
<td><code class="prettyprint">judgments</code></td>
<td>array</td>
<td>An array of <em>Individual Judgments</em> created by this Judge</td>
</tr>
</tbody></table>

<h3 id="individual-judgment-parameters">Individual Judgment Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>int</td>
<td>The Judgment ID</td>
</tr>
<tr>
<td><code class="prettyprint">entry_id</code></td>
<td>int</td>
<td>The ID of the Entry being judged</td>
</tr>
<tr>
<td><code class="prettyprint">score</code></td>
<td>int</td>
<td>The score given to the Entry by the Judge</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>JSON</td>
<td>Any metadata added by the Judge</td>
</tr>
<tr>
<td><code class="prettyprint">created</code></td>
<td>UNIX timestamp</td>
<td>When the Judgment was created</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">judge</code></td>
</tr>
</tbody></table>

<h2 id="judge-entries">Judge Entries</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight ruby"><code><span class="n">strutta</span> <span class="o">=</span> <span class="no">Strutta</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'mystruttatoken'</span>

<span class="n">judging</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="ss">entry_id: </span><span class="mi">1234</span><span class="p">,</span>
    <span class="ss">rank: </span><span class="mi">1</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span>
      <span class="ss">comments: </span><span class="s1">'First place'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">entry_id: </span><span class="mi">1235</span><span class="p">,</span>
    <span class="ss">rank: </span><span class="mi">2</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span>
      <span class="ss">comments: </span><span class="s1">'Second place'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">entry_id: </span><span class="mi">1236</span><span class="p">,</span>
    <span class="ss">rank: </span><span class="mi">3</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span>
      <span class="ss">comments: </span><span class="s1">'Third place'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">strutta</span><span class="p">.</span><span class="nf">games</span><span class="p">(</span><span class="mi">333</span><span class="p">).</span><span class="nf">judging</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">round_id: </span><span class="mi">4444</span><span class="p">,</span> <span class="ss">judge_id: </span><span class="mi">55555</span><span class="p">,</span> <span class="ss">judging: </span><span class="n">judging</span><span class="p">)</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"round_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4444</span><span class="p">,</span><span class="w">
  </span><span class="s2">"judge_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55555</span><span class="p">,</span><span class="w">
  </span><span class="s2">"judging"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First place"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1235</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Second place"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1236</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Third place"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response - 201</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"message"</span><span class="p">:</span> <span class="s2">"Judging was successful"</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Judging was successful"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint provides detailed information about the Judging for a specific Judging Round.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /v2/games/:id/judging</code></p>

<h3 id="uri-parameters">URI Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">:id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>The ID of the Judging Round</td>
</tr>
<tr>
<td><code class="prettyprint">judge_id</code></td>
<td>The Participant ID of the Judge</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">judge</code></td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>Errors generally take this form:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"error"</span><span class="p">:</span> <span class="s2">"Error Type"</span><span class="p">,</span>
  <span class="s2">"message"</span><span class="p">:</span> <span class="s2">"Detailed description of why the error occurred."</span>
<span class="p">}</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error Type"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Detailed description of why the error occurred."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The Strutta API uses the following error codes:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Error wih your request - generally syntactical</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API token is not valid</td>
</tr>
<tr>
<td>422</td>
<td>Not Acceptable &ndash; Error wih your request - generally semantic</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Rate limiting</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="export-api">Export API</h1>

<h2 id="background">Background</h2>

<p>The Export API was built to give access to the large datasets associated with Strutta Games - namely <strong>Participants</strong>, <strong>Entries</strong>, and <strong>Points</strong> - that would be cumbersome or slow to retrieve with the Strutta API.
It is designed to demand as little memory as possible, on both the client and the server.</p>

<p>There is no paging or filtering in the Export API. When you request make a request for Participants, Entries, or Points, you get <em>everything</em>.</p>

<h2 id="technical">Technical</h2>

<p><strong>Generic endpoint format:</strong></p>

<p><code class="prettyprint">https://api.strutta.com/export/&lt;object&gt;</code></p>

<p><strong>Input</strong></p>

<p>All Export API endpoints expect GET requests with normal HTTP parameters.</p>

<p><strong>Output</strong></p>

<p>Output data is streamed as JSON strings separated by newline characters( <code class="prettyprint">\n</code> ).
This might seem strange at first, but makes a lot of sense when the use case is considered.</p>

<p>Instead of loading the entire dataset into memory on the server (which could likely exceed memory limits, ultimately destroying the request) and transmitting the entire object as a single response (which could easily timeout partway through, resulting in invalid JSON), each JSON object can be processed as it arrives, then removed from memory.</p>

<h2 id="authentication">Authentication</h2>

<p>The Export API can be accessed using User Private tokens of tokens belonging to Participants with the <code class="prettyprint">administrate</code> permission.
Since all Export API requests are GET requests, only tokens passed as HTTP request parameters will be accepted. Example:</p>

<p><code class="prettyprint">https://api.strutta.com/export/&lt;object&gt;/?token=mystruttatoken</code></p>

<p><a href="#authentication">Read more about the Strutta Authentication</a></p>

<h2 id="errors">Errors</h2>

<p>Unfortunately, because all Export API responses are streamed, Errors cannot use typical HTTP response codes.
Instead, errors are returned one-per-line in the form:</p>

<p>Raw:
<code class="prettyprint">&quot;{\&quot;error\&quot;:\&quot;error message\&quot;}\n&quot;</code></p>

<p>Parsed:
<code class="prettyprint">{&quot;error&quot;:&quot;error message&quot;}</code></p>

<p>You can safely assume that if errors are streamed, no data will follow.</p>

<h2 id="version">Version</h2>

<p>This documentation is for Export API version 1.0</p>

<h2 id="export-participants">Export Participants</h2>

<blockquote>
<p>https://api.strutta.com/export/participants/?game_id=3344&amp;token=mystruttatoken</p>
</blockquote>
<pre class="highlight plaintext"><code>NOTE: Spacing between objects is added only for Readability

"

{\"id\":\"3333\",\"email\":\"ellen.grady@aol.com\",\"metadata\":{\"details\":\"User Details\"},\"game_id\":\"3344\",\"created_at\":\"2014-11-07 09:17:26.046529\"}\n

{\"id\":\"2222\",\"email\":\"cara.nguyen@google.co.uk\",\"metadata\":{\"details\":\"User Details\"},\"game_id\":\"3344\",\"created_at\":\"2014-11-07 09:17:26.026228\"}\n

{\"id\":\"1111\",\"email\":\"chris.kambere@yahoo.com\",\"metadata\":{\"details\":\"User Details\"},\"game_id\":\"3344\",\"created_at\":\"2014-11-07 09:17:25.968242\"}\n

"

</code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.strutta.com/export/participants</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="json-string-response-parameters">JSON String Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The Participant ID</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>The Participant&rsquo;s email</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Metadata associated with the Participant</td>
</tr>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>The creation timestamp (ISO 8601 format)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="export-entries">Export Entries</h2>

<blockquote>
<p>https://api.strutta.com/export/entries/?game_id=3344&amp;token=mystruttatoken</p>
</blockquote>
<pre class="highlight plaintext"><code>NOTE: Spacing between objects is added only for Readability

"

{\"id\":\"1\",\"game_id\":\"3344\",\"metadata\":{\"email\":\"joe.carter@bluejays.com\",\"first_name\":\"Joe\",\"last_name\":\"Carter\"},\"created_at\":\"2014-11-07 09:31:53.651251\",\"state\":\"71\",\"participant_id\":\"1232\"}\n

{\"id\":\"2\",\"game_id\":\"3344\",\"metadata\":{\"email\":\"mike.bibby@grizzlies.com\",\"first_name\":\"Mike\",\"last_name\":\"Bibby\"},\"created_at\":\"2014-11-07 09:31:53.664817\",\"state\":\"56\",\"participant_id\":\"1323\"}\n

{\"id\":\"3\",\"game_id\":\"3344\",\"metadata\":{\"email\":\"gino.odjick@canucks.com\",\"first_name\":\"Gino\",\"last_name\":\"Odjick\"},\"created_at\":\"2014-11-07 09:31:53.676233\",\"state\":\"99\",\"participant_id\":\"1333\"}\n


"

</code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.strutta.com/export/entries</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="json-string-response-parameters">JSON String Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The Entry ID</td>
</tr>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Metadata associated with the Entry</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>The creation timestamp (ISO 8601 format)</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>The current <code class="prettyprint">state</code> of the Entry</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>The ID of the Entry&rsquo;s owner.</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="export-points">Export Points</h2>

<blockquote>
<p>https://api.strutta.com/export/entries/?round_id=2222&amp;game_id=3344&amp;token=mystruttatoken</p>
</blockquote>
<pre class="highlight plaintext"><code>NOTE: Spacing between objects is added only for Readability

"

{\"id\":\"3\",\"entry_id\":\"333\",\"round_id\":\"2222\",\"weight\":\"1\",\"ip_address\":"84.92.256.65",\"created_at\":\"2014-11-07 09:41:34.061395\",\"participant_id\":\"444\"}\n

{\"id\":\"2\",\"entry_id\":\"222\",\"round_id\":\"2222\",\"weight\":\"5\",\"ip_address\":"84.92.256.65",\"created_at\":\"2014-11-07 09:41:34.058693\",\"participant_id\":\"656\"}\n

{\"id\":\"1\",\"entry_id\":\"777\",\"round_id\":\"2222\",\"weight\":\"3\",\"ip_address\":"84.92.256.65",\"created_at\":\"2014-11-07 09:41:34.053759\",\"participant_id\":\"876\"}\n

"

</code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.strutta.com/export/entries</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>The ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>The ID of the parent Points Round</td>
</tr>
</tbody></table>

<h3 id="json-string-response-parameters">JSON String Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The Entry ID</td>
</tr>
<tr>
<td><code class="prettyprint">entry_id</code></td>
<td>ID of the parent Entry</td>
</tr>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>ID of the parent Points Round</td>
</tr>
<tr>
<td><code class="prettyprint">weight</code></td>
<td>The weight associated with the Point</td>
</tr>
<tr>
<td><code class="prettyprint">ip_address</code></td>
<td>The IP address of the Participant who created the Point</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>The creation timestamp (ISO 8601 format)</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>The ID of the Point&rsquo;s owner.</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

<h2 id="export-api-calls">Export API Calls</h2>

<blockquote>
<p>https://api.strutta.com/export/entries/?game_id=3344&amp;token=mystruttatoken</p>
</blockquote>
<pre class="highlight plaintext"><code>NOTE: Spacing between objects is added only for Readability

"

{\"id\":\"10\",\"user_id\":\"222\",\"request_method\":\"POST\",\"path\":\"/v1/games\",\"response_code\":\"200\",\"created_at\":\"2014-11-13 13:29:01.825946\",\"game_id\":\"132\",\"round_id\":null,\"entry_id\":null,\"point_id\":null,\"request_params\":null,\"participant_caller_id\":2554,\"participant_id\":null}

{\"id\":\"9\",\"user_id\":\"222\",\"request_method\":\"POST\",\"path\":\"/v1/games\",\"response_code\":\"422\",\"created_at\":\"2014-11-13 13:29:01.823424\",\"game_id\":\"132\",\"round_id\":null,\"entry_id\":null,\"point_id\":null,\"request_params\":null,\"participant_caller_id\":5443,\"participant_id\":null}

"

</code></pre>
<p><aside class="notice">
Api Calls are scoped to a specific <code class="prettyprint">game_id</code>
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.strutta.com/export/api-calls</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>The ID of the parent Game</td>
</tr>
</tbody></table>

<h3 id="json-string-response-parameters">JSON String Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The Api Call ID</td>
</tr>
<tr>
<td><code class="prettyprint">user_id</code></td>
<td>ID of the parent User</td>
</tr>
<tr>
<td><code class="prettyprint">participant_caller_id</code></td>
<td>If the API call was made by a Participant, their ID</td>
</tr>
<tr>
<td><code class="prettyprint">game_id</code></td>
<td>ID of the parent Game</td>
</tr>
<tr>
<td><code class="prettyprint">participant_id</code></td>
<td>If API call affected a Participant, their <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">round_id</code></td>
<td>If API call affected a Round, its <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">entry_id</code></td>
<td>If API call affected an Entry, its <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">point_id</code></td>
<td>If API call affected a Point, its <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">request_method</code></td>
<td>The HTTP request method</td>
</tr>
<tr>
<td><code class="prettyprint">response code</code></td>
<td>The HTTP response code</td>
</tr>
<tr>
<td><code class="prettyprint">uri</code></td>
<td>The uri requested</td>
</tr>
<tr>
<td><code class="prettyprint">request_params</code></td>
<td>The call&rsquo;s request parameters</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>The creation timestamp (ISO 8601 format)</td>
</tr>
</tbody></table>

<h3 id="minimum-permission">Minimum Permission</h3>

<table><thead>
<tr>
<th>Consumer</th>
<th>Permission</th>
</tr>
</thead><tbody>
<tr>
<td>User</td>
<td><code class="prettyprint">private_token</code></td>
</tr>
<tr>
<td>Participant</td>
<td><code class="prettyprint">administrate</code></td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div id="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>

